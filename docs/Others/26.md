---
title: Mapbox API æ•™å­¸èˆ‡æ‡‰ç”¨
description: ""
keywords: [Mapbox, API]
---

## 1\. ä»€éº¼æ˜¯ Mapboxï¼Ÿ

Mapbox æ˜¯ä¸€å€‹æä¾› **åœ°åœ–æœå‹™èˆ‡ç©ºé–“è³‡æ–™ API** çš„å¹³å°ï¼Œèƒ½å¤ åœ¨ç¶²ç«™æˆ– App ä¸­åµŒå…¥äº’å‹•å¼åœ°åœ–ï¼Œä¸¦æ”¯æ´ **è‡ªè¨‚æ¨£å¼ã€å®šä½ã€è·¯ç·šè¦åŠƒã€åœ°ç†ç·¨ç¢¼ï¼ˆåœ°å€è½‰åº§æ¨™ï¼‰ã€è³‡æ–™è¦–è¦ºåŒ–** ç­‰åŠŸèƒ½ã€‚\
å®ƒé¡ä¼¼ Google Maps APIï¼Œä½†æ›´å¼·èª¿ **å®¢è£½åŒ–èˆ‡å‰ç«¯æ•´åˆ**ã€‚


## 2\. åŸºæœ¬ä½¿ç”¨æ­¥é©Ÿ

### (1) è¨»å†Šä¸¦å–å¾— Token

1. å‰å¾€ Mapbox å®˜ç¶²

2. å»ºç«‹ Access Tokenï¼ˆå»ºè­°é™åˆ¶ URL æˆ– Domainï¼‰

3. åœ¨å°ˆæ¡ˆä¸­è¨­å®šç’°å¢ƒè®Šæ•¸ï¼Œä¾‹å¦‚ï¼š

   ```
   VITE_MAPBOX_TOKEN=your_mapbox_access_token
   ```


### (2) å®‰è£ SDK

åœ¨å‰ç«¯ React / Vite å°ˆæ¡ˆä¸­ï¼š

```
npm install mapbox-gl
```

### (3) åˆå§‹åŒ–åœ°åœ–

åœ¨ React ä¸­å»ºç«‹ä¸€å€‹åœ°åœ–å…ƒä»¶ï¼š

```jsx
import { useEffect, useRef } from "react";
import mapboxgl from "mapbox-gl";

mapboxgl.accessToken = import.meta.env.VITE_MAPBOX_TOKEN;

export default function Map() {
  const mapContainer = useRef(null);
  const map = useRef(null);

  useEffect(() => {
    if (map.current) return; // é¿å…é‡è¤‡åˆå§‹åŒ–

    map.current = new mapboxgl.Map({
      container: mapContainer.current,
      style: "mapbox://styles/mapbox/streets-v11", // åœ°åœ–æ¨£å¼
      center: [121.5654, 25.0330], // å°åŒ—åº§æ¨™
      zoom: 12
    });

    // åŠ å…¥ç¸®æ”¾å·¥å…·
    map.current.addControl(new mapboxgl.NavigationControl());
  }, []);

  return <div ref={mapContainer} style={{ width: "100%", height: "500px" }} />;
}
```

## 3\. å¸¸è¦‹æ‡‰ç”¨æ¡ˆä¾‹

### (1) åŠ å…¥æ¨™è¨˜ (Marker)

```jsx
new mapboxgl.Marker()
  .setLngLat([121.5654, 25.0330]) // å°åŒ— 101
  .setPopup(new mapboxgl.Popup().setText("å°åŒ— 101"))
  .addTo(map.current);
```


### (2) æ›´æ›åœ°åœ–æ¨£å¼

Mapbox æä¾›å¤šç¨®é è¨­æ¨£å¼ï¼š

- `mapbox://styles/mapbox/streets-v11`

- `mapbox://styles/mapbox/outdoors-v11`

- `mapbox://styles/mapbox/satellite-v9`

ä¹Ÿå¯ä»¥åœ¨ Mapbox Studio è‡ªè£½åœ°åœ–æ¨£å¼ã€‚


### (3) è·¯ç·šè¦åŠƒ (Directions API)

å®‰è£ SDKï¼š

```
npm install @mapbox/mapbox-gl-directions
```

ä½¿ç”¨ï¼š

```jsx
import MapboxDirections from "@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions";

map.current.addControl(
  new MapboxDirections({
    accessToken: mapboxgl.accessToken
  }),
  "top-left"
);
```

ğŸ‘‰ å°±èƒ½è¼¸å…¥èµ·é»/çµ‚é»ï¼Œé¡¯ç¤ºè·¯ç·šã€‚


### (4) åœ°ç†ç·¨ç¢¼ (åœ°å€ â†” åº§æ¨™)

ä½¿ç”¨ Mapbox Geocoding API

ç¯„ä¾‹ï¼šå°‡åœ°å€è½‰æ›æˆåº§æ¨™

```jsx
fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/å°åŒ—101.json?access_token=${mapboxgl.accessToken}`)
  .then(res => res.json())
  .then(data => {
    console.log(data.features[0].center); // [121.5645, 25.0339]
  });
```


### (5) åœ°ç†è³‡æ–™è¦–è¦ºåŒ–

å¯ä»¥é€é **GeoJSON** åœ¨åœ°åœ–ä¸Šç¹ªè£½è³‡æ–™ï¼š

```jsx
map.current.on("load", () => {
  map.current.addSource("points", {
    type: "geojson",
    data: {
      type: "FeatureCollection",
      features: [
        {
          type: "Feature",
          geometry: { type: "Point", coordinates: [121.5654, 25.0330] },
          properties: { title: "å°åŒ— 101" }
        }
      ]
    }
  });

  map.current.addLayer({
    id: "points-layer",
    type: "circle",
    source: "points",
    paint: {
      "circle-radius": 8,
      "circle-color": "#FF5733"
    }
  });
});

```

## 4\. æ‡‰ç”¨å ´æ™¯èˆ‰ä¾‹

- **è¨ˆç¨‹è»Š/å¤–é€å¹³å°** â†’ å³æ™‚å®šä½ + è·¯ç·šå°èˆª

- **ä¸å‹•ç”¢ç¶²ç«™** â†’ åœ°åœ–ç¯©é¸æˆ¿å±‹ã€è¦–è¦ºåŒ–ç¤¾å€æ•¸æ“š

- **æ—…éŠç¶²ç«™** â†’ æ¨™è¨˜æ™¯é»ã€å®¢è£½åŒ–åœ°åœ–é¢¨æ ¼

- **æ•¸æ“šå„€è¡¨æ¿** â†’ å°‡åœ°ç†æ•¸æ“š (äººå£ã€éŠ·å”®ã€æµé‡) è¦–è¦ºåŒ–